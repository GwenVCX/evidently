var S=Object.defineProperty;var E=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var D=(e,t,r)=>(E(e,typeof t!="symbol"?t+"":t,r),r);import{c as O,j as n,i as m,u as L,d as I,G as _,F as b,I as A,S as C,M as u,B as w,D as T,T as R,C as F,A as M,a as k,r as V,b as N,e as B,R as z,f as U}from"./vendor-218d59f5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();const H="modulepreload",J=function(e){return"/"+e},P={},f=function(t,r,a){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=J(o),o in P)return;P[o]=!0;const i=o.endsWith(".css"),j=i?'[rel="stylesheet"]':"";if(!!a)for(let x=s.length-1;x>=0;x--){const y=s[x];if(y.href===o&&(!i||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${j}`))return;const l=document.createElement("link");if(l.rel=i?"stylesheet":H,i||(l.as="script",l.crossOrigin=""),l.href=o,document.head.appendChild(l),i)return new Promise((x,y)=>{l.addEventListener("load",x),l.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=o,window.dispatchEvent(i),!i.defaultPrevented)throw o})},W=({api:e})=>({loader:()=>e.getVersion()});class h{parse(t){return JSON.parse(t)}}class G{constructor(t){D(this,"endpoint");this.endpoint=t}async getAdditionalGraphData(t,r,a){const s=await fetch(`${this.endpoint}/projects/${t}/${r}/graphs_data/${a}`);if(s.ok)return new h().parse(await s.text());throw Error(`${s.status}, ${s.statusText}`)}async getAdditionalWidgetData(t,r,a){const s=await fetch(`${this.endpoint}/projects/${t}/${r}/graphs_data/${a}`);if(s.ok)return new h().parse(await s.text());throw Error(`${s.status}, ${s.statusText}`)}async getDashboard(t,r){const a=await fetch(`${this.endpoint}/projects/${t}/${r}/data`);if(a.ok)return new h().parse(await a.text());throw Error(`${a.status}, ${a.statusText}`)}async getProjects(){const t=await fetch(`${this.endpoint}/projects`);if(t.ok){let r=new h().parse(await t.text());return console.log(r),r}throw Error(`${t.status}, ${t.statusText}`)}async getProjectDashboard(t,r,a,s){const o=new URLSearchParams;r&&o.append("timestamp_start",r),a&&o.append("timestamp_end",a);const i=await fetch(`${this.endpoint}/projects/${t}/dashboard?${o.toString()}`,{signal:s});if(i.ok)return new h().parse(await i.text());throw Error(`${i.status}, ${i.statusText}`)}async getReports(t){const r=await fetch(`${this.endpoint}/projects/${t}/reports`);if(r.ok)return new h().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getTestSuites(t){const r=await fetch(`${this.endpoint}/projects/${t}/test_suites`);if(r.ok)return new h().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getProjectInfo(t){const r=await fetch(`${this.endpoint}/projects/${t}/info`);if(r.ok)return new h().parse(await r.text());throw Error(`${r.status}, ${r.statusText}`)}async getVersion(){const t=await fetch(`${this.endpoint}/version`);if(t.ok)return await t.json();throw Error(`${t.status}, ${t.statusText}`)}async editProjectInfo(t){const r=await fetch(`${this.endpoint}/projects/${t.id}/info`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error(`${r.status}, ${r.statusText}`);return r}}const p=new G("/api"),q=O({shape:{borderRadius:0},palette:{primary:{light:"#ed5455",main:"#ed0400",dark:"#d40400",contrastText:"#fff"},secondary:{light:"#61a0ff",main:"#3c7fdd",dark:"#61a0ff",contrastText:"#000"}},typography:{button:{fontWeight:"bold"},fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}}),Q="/static/img/logo-01c8a56e.png",{loader:Y}=W({api:p}),K={path:"/",lazy:async()=>{const{HomeComponentTemplate:e,...t}=await f(()=>import("./index-75e22e7e.js"),["static/js/index-75e22e7e.js","static/js/vendor-218d59f5.js","static/js/createSvgIcon-3da52dfc.js"]);return{Component:()=>n.jsx(e,{theme:q,logoSrc:Q}),...t}},loader:Y},X=({api:e})=>({loader:({params:t})=>{const{projectId:r}=t;return m(r,"missing projectId"),e.getProjectInfo(r)}}),Z=e=>{if(e.headers.get("Content-type")!=="application/json")throw new Response("Unsupported Media Type",{status:415})};function $(e){return typeof e!=typeof new Date?(console.log(`not a date ${typeof e}: ${e}`),e):`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}T${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}const c={FROM:"date_from",TO:"date_to"},tt=e=>{let t=e.get(c.FROM),r=e.get(c.TO);return{date_from:t,date_to:r}},et=({dataRanges:e})=>{const[t,r]=L(),{date_from:a,date_to:s}=tt(t),o=I(a||e.minDate),i=I(s||e.maxDate);return{isCorrectTimeInterval:o.isValid()&&i.isValid()&&o.isBefore(i),date_from:o,date_to:i,setSearchParams:r}},Et=({dataRanges:e})=>{const{isCorrectTimeInterval:t,date_from:r,date_to:a,setSearchParams:s}=et({dataRanges:e}),o=t?"":"incorrect time interval",i=j=>g=>{s(l=>(l.delete(j),g&&l.append(j,$(g.toDate())),l),{preventScrollReset:!0,replace:!0})};return n.jsxs(_,{container:!0,padding:1,zIndex:1,my:3,gap:2,justifyContent:"flex-end",justifyItems:"center",children:[n.jsx(_,{item:!0,xs:12,md:2,children:n.jsxs(b,{fullWidth:!0,children:[n.jsx(A,{children:"Period"}),n.jsxs(C,{variant:"standard",defaultValue:"",onChange:j=>{const[g,l]=j.target.value.split(",");if(g===""){s(d=>(d.delete(c.FROM),d.delete(c.TO),d.append(c.FROM,$(e.minDate.toDate())),d.append(c.TO,$(e.maxDate.toDate())),d),{preventScrollReset:!0,replace:!0});return}const[x,y]=[Number(g),l],v=e.maxDate.subtract(x,y);s(d=>(d.delete(c.FROM),d.delete(c.TO),d.append(c.FROM,$(v.isBefore(e.minDate)?e.minDate.toDate():v.toDate())),d.append(c.TO,$(e.maxDate.toDate())),d),{preventScrollReset:!0,replace:!0})},children:[n.jsx(u,{value:"",children:n.jsx("em",{children:"None"})}),n.jsx(u,{value:"10,minutes",children:"Last 10 Minutes"}),n.jsx(u,{value:"30,minutes",children:"Last 30 Minutes"}),n.jsx(u,{value:"1,hours",children:"Last 1 Hours"}),n.jsx(u,{value:"2,hours",children:"Last 2 Hours"}),n.jsx(u,{value:"8,hours",children:"Last 8 Hours"}),n.jsx(u,{value:"24,hours",children:"Last 24 Hours"}),n.jsx(u,{value:"7,days",children:"Last 7 Days"}),n.jsx(u,{value:"14,days",children:"Last 14 Days"}),n.jsx(u,{value:"28,days",children:"Last 28 Days"}),n.jsx(u,{value:"60,days",children:"Last 60 Days"})]})]})}),n.jsx(_,{item:!0,children:n.jsxs(w,{display:"flex",alignItems:"center",gap:2,children:[n.jsx(T,{minDate:e.minDate,maxDate:e.maxDate&&a,slotProps:{textField:{variant:"standard"}},label:"From",value:r,onChange:i(c.FROM)}),n.jsx(w,{height:1,display:"flex",alignItems:"center",children:n.jsx(R,{children:" - "})}),n.jsx(T,{minDate:e.minDate&&r,maxDate:e.maxDate,slotProps:{textField:{variant:"standard"}},label:"To",value:a,onChange:i(c.TO)})]})}),n.jsx(_,{item:!0,xs:12,children:n.jsx(F,{unmountOnExit:!0,in:!t,children:n.jsxs(M,{severity:"error",children:[n.jsx(k,{children:"Error"}),o]})})})]})},rt=({api:e})=>({loader:({params:t,request:r})=>{m(t.projectId,"missing projectId");const{searchParams:a}=new URL(r.url);let s=a.get(c.FROM),o=a.get(c.TO);return s&&!I(s).isValid()&&(s=null),o&&!I(o).isValid()&&(o=null),e.getProjectDashboard(t.projectId,s,o)}}),{loader:st}=rt({api:p}),ot={index:!0,id:"dashboard",lazy:()=>f(()=>import("./index-02146eed.js"),["static/js/index-02146eed.js","static/js/vendor-218d59f5.js","static/js/DashboardContent-e0010603.js","static/js/createSvgIcon-3da52dfc.js","static/js/Edit-d0ce36c0.js"]),loader:st},nt=({api:e})=>({loader:({params:t})=>(m(t.projectId,"missing projectId"),e.getReports(t.projectId))}),at=({api:e})=>({loader:({params:t})=>{const{projectId:r,reportId:a}=t;return m(r,"missing projectId"),m(a,"missing reportId"),e.getDashboard(r,a)}}),{loader:it}=at({api:p}),ct={id:"show-report-by-id",path:":reportId",lazy:async()=>{const{ReportTemplate:e,...t}=await f(()=>import("./index-fa9b25c3.js"),["static/js/index-fa9b25c3.js","static/js/vendor-218d59f5.js","static/js/DashboardContent-e0010603.js","static/js/createSvgIcon-3da52dfc.js","static/js/Edit-d0ce36c0.js"]);return{Component:()=>n.jsx(e,{api:p}),...t}},loader:it},{loader:lt}=nt({api:p}),dt={id:"reports",path:"reports",lazy:()=>f(()=>import("./index-4723f5f6.js"),["static/js/index-4723f5f6.js","static/js/vendor-218d59f5.js","static/js/useUpdateQueryStringValueWithoutNavigation-e5c11ecb.js","static/js/createSvgIcon-3da52dfc.js","static/js/ContentCopy-349c832d.js"]),loader:lt,children:[ct]},ut=({api:e})=>({loader:({params:t})=>(m(t.projectId,"missing projectId"),e.getTestSuites(t.projectId))}),pt=({api:e})=>({loader:({params:t})=>{const{projectId:r,testSuiteId:a}=t;return m(r,"missing projectId"),m(a,"missing testSuiteId"),e.getDashboard(r,a)}}),{loader:ht}=pt({api:p}),mt={id:"show-test-suite-by-id",path:":testSuiteId",lazy:async()=>{const{TestSuiteTemplate:e,...t}=await f(()=>import("./index-5946bec7.js"),["static/js/index-5946bec7.js","static/js/vendor-218d59f5.js","static/js/DashboardContent-e0010603.js","static/js/createSvgIcon-3da52dfc.js","static/js/Edit-d0ce36c0.js"]);return{Component:()=>n.jsx(e,{api:p}),...t}},loader:ht},{loader:ft}=ut({api:p}),jt={id:"test_suites",path:"test-suites",lazy:()=>f(()=>import("./index-60596575.js"),["static/js/index-60596575.js","static/js/vendor-218d59f5.js","static/js/useUpdateQueryStringValueWithoutNavigation-e5c11ecb.js","static/js/createSvgIcon-3da52dfc.js","static/js/ContentCopy-349c832d.js"]),loader:ft,children:[mt]},xt={path:"test_suites/*",loader:({request:e})=>V(e.url.replace("/test_suites","/test-suites"),{status:301})},{loader:gt}=X({api:p}),yt={path:"projects/:projectId",lazy:()=>f(()=>import("./index-6b0d7241.js"),["static/js/index-6b0d7241.js","static/js/vendor-218d59f5.js","static/js/ContentCopy-349c832d.js","static/js/createSvgIcon-3da52dfc.js"]),loader:gt,children:[ot,dt,jt,xt]},$t=({api:e})=>({loader:()=>e.getProjects(),action:async({request:t})=>{Z(t);const r=await t.json();return e.editProjectInfo(r)}}),{loader:_t,action:It}=$t({api:p}),wt={index:!0,lazy:()=>f(()=>import("./index-df2e83e8.js"),["static/js/index-df2e83e8.js","static/js/vendor-218d59f5.js","static/js/Edit-d0ce36c0.js","static/js/createSvgIcon-3da52dfc.js"]),loader:_t,action:It},vt={path:"*",Component:()=>n.jsx(w,{display:"flex",justifyContent:"center",children:n.jsx(R,{variant:"h4",children:"Page Not Found"})})},Dt={...K,children:[wt,yt,vt]},Tt=[Dt],Pt=N(Tt);B.createRoot(document.getElementById("root")).render(n.jsx(z.StrictMode,{children:n.jsx(U,{router:Pt})}));export{Et as D,$ as f,et as u};
