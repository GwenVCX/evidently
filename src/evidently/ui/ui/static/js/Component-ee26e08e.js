import{ap as p,p as T,u as g,aq as f,k as w,j as s,G as a,O as y,B as l,as as b,z as I,at as D,au as L,av as x,aw as t,ax as v,L as B,f as k,m as A}from"./vendor-cedf8197.js";import{i as C}from"./tiny-invariant-dd7d57d2.js";import{a as S}from"./createSvgIcon-f02a8ab4.js";import{u as $,T as F,H as G,D as H}from"./useUpdateQueryStringValueWithoutNavigation-afdbdac1.js";import{f as M}from"./Datetime-bd8955b4.js";import"./ContentCopy-bdaaaa63.js";const V=async({params:n})=>(C(n.projectId,"missing projectId"),S.getTestSuites(n.projectId)),q={crumb:(n,{pathname:o})=>({to:o,linkText:"Test Suites"})},z=()=>{const{projectId:n}=p(),o=T(),u=g(),[j]=f(),[r,c]=w.useState(()=>{var e;return((e=j.get("tags"))==null?void 0:e.split(","))||[]});$("tags",r.join(","));const d=u.find(({id:e})=>e==="show-test-suite-by-id"),h=d?[]:Array.from(new Set(o.flatMap(({tags:e})=>e))),m=o.filter(({tags:e})=>d?!1:r.length===0?!0:r.every(i=>e.includes(i)));return d?s.jsx(a,{container:!0,children:s.jsx(a,{item:!0,xs:12,children:s.jsx(y,{})})}):s.jsxs(s.Fragment,{children:[s.jsx(l,{sx:{padding:2},children:s.jsxs(a,{container:!0,children:[s.jsx(a,{item:!0,xs:12,md:6,children:s.jsx(b,{multiple:!0,limitTags:2,value:r,onChange:(e,i)=>c(i),id:"tags",options:h,renderInput:e=>s.jsx(I,{...e,variant:"standard",label:"Filter by Tags"})})}),s.jsx(a,{item:!0,xs:6,sm:6})]})}),s.jsx(a,{container:!0,children:s.jsx(a,{item:!0,xs:12,children:s.jsxs(D,{children:[s.jsx(L,{children:s.jsxs(x,{children:[s.jsx(t,{children:"Test Suite ID"}),s.jsx(t,{children:"Tags"}),s.jsx(t,{children:"Timestamp"}),s.jsx(t,{children:"Actions"})]})}),s.jsx(v,{children:m.map(e=>s.jsxs(x,{children:[s.jsx(t,{children:s.jsx(F,{showText:e.id,copyText:e.id})}),s.jsx(t,{children:s.jsx(l,{maxWidth:250,children:s.jsx(G,{onClick:i=>{r.includes(i)||c([...r,i])},tags:e.tags})})}),s.jsx(t,{children:M(new Date(Date.parse(e.timestamp)))}),s.jsxs(t,{children:[s.jsx(B,{component:k,to:`${e.id}`,children:s.jsx(A,{children:"View"})}),s.jsx(H,{downloadLink:`/api/projects/${n}/${e.id}/download`})]})]},`ts-${e.id}`))})]})})})]})};export{z as Component,q as handle,V as loader};
