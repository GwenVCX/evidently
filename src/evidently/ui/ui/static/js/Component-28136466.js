import{an as y,o as I,u as b,v as w,ao as v,k as C,j as e,G as r,O as D,B as c,aq as L,x as S,m as x,ar as k,as as B,at as u,au as a,av as A,L as $,f as G}from"./vendor-fd719af2.js";import{i as j}from"./tiny-invariant-dd7d57d2.js";import{a as h}from"./createSvgIcon-8455679c.js";import{u as P,T as F,H,D as M}from"./useUpdateQueryStringValueWithoutNavigation-93193baf.js";import{f as R}from"./Datetime-bd8955b4.js";import"./ContentCopy-38558989.js";const N=async({params:t})=>(j(t.projectId,"missing projectId"),h.getTestSuites(t.projectId)),Q=async({params:t})=>(j(t.projectId,"missing projectId"),h.reloadProject(t.projectId)),U={crumb:(t,{pathname:o})=>({to:o,linkText:"Test Suites"})},z=()=>{const{projectId:t}=y(),o=I(),m=b(),p=w(),[T]=v(),[n,l]=C.useState(()=>{var s;return((s=T.get("tags"))==null?void 0:s.split(","))||[]});P("tags",n.join(","));const d=m.find(({id:s})=>s==="show-test-suite-by-id"),f=d?[]:Array.from(new Set(o.flatMap(({tags:s})=>s))),g=o.filter(({tags:s})=>d?!1:n.length===0?!0:n.every(i=>s.includes(i)));return d?e.jsx(r,{container:!0,children:e.jsx(r,{item:!0,xs:12,children:e.jsx(D,{})})}):e.jsxs(e.Fragment,{children:[e.jsx(c,{sx:{padding:2},children:e.jsxs(r,{container:!0,spacing:2,alignItems:"end",children:[e.jsx(r,{item:!0,xs:12,md:6,children:e.jsx(L,{multiple:!0,limitTags:2,value:n,onChange:(s,i)=>l(i),id:"tags",options:f,renderInput:s=>e.jsx(S,{...s,variant:"standard",label:"Filter by Tags"})})}),e.jsx(r,{item:!0,flexGrow:2,children:e.jsx(c,{display:"flex",justifyContent:"flex-end",children:e.jsx(x,{variant:"outlined",onClick:()=>p(null,{method:"post"}),color:"primary",children:"Refresh Test-Suites"})})})]})}),e.jsx(r,{container:!0,children:e.jsx(r,{item:!0,xs:12,children:e.jsxs(k,{children:[e.jsx(B,{children:e.jsxs(u,{children:[e.jsx(a,{children:"Test Suite ID"}),e.jsx(a,{children:"Tags"}),e.jsx(a,{children:"Timestamp"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(A,{children:g.map(s=>e.jsxs(u,{children:[e.jsx(a,{children:e.jsx(F,{showText:s.id,copyText:s.id})}),e.jsx(a,{children:e.jsx(c,{maxWidth:250,children:e.jsx(H,{onClick:i=>{n.includes(i)||l([...n,i])},tags:s.tags})})}),e.jsx(a,{children:R(new Date(Date.parse(s.timestamp)))}),e.jsxs(a,{children:[e.jsx($,{component:G,to:`${s.id}`,children:e.jsx(x,{children:"View"})}),e.jsx(M,{downloadLink:`/api/projects/${t}/${s.id}/download`})]})]},`ts-${s.id}`))})]})})})]})};export{z as Component,Q as action,U as handle,N as loader};
